{% extends "base.html" %}

{% block title %}–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è - VibeMe{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8">
        <div class="card card-custom">
            <div class="card-body">
                <h2 class="mb-4">üåà –î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å, {{ current_user.username }}!</h2>
                <p class="lead">–ö–∞–∫ —Ç—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—à—å —Å–µ–≥–æ–¥–Ω—è?</p>
                
                <div class="d-grid gap-2 d-md-flex justify-content-md-start mb-4">
                    <a href="{{ url_for('main.mood_form') }}" class="btn btn-custom btn-lg">
                        üìù –ó–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ
                    </a>
                </div>
            </div>
        </div>

        <!-- –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è -->
        <div class="card card-custom mt-4">
            <div class="card-body">
                <h4 class="mb-3">üìã –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∑–∞–ø–∏—Å–∏</h4>
                {% if recent_moods %}
                    <div class="list-group">
                        {% for mood in recent_moods %}
                        <div class="list-group-item">
                            <div class="d-flex w-100 justify-content-between">
                                <h6 class="mb-1">
                                    {% if mood.mood == 'happy' %}üòä –°—á–∞—Å—Ç–ª–∏–≤
                                    {% elif mood.mood == 'calm' %}üòå –°–ø–æ–∫–æ–µ–Ω
                                    {% elif mood.mood == 'neutral' %}üòê –ù–µ–π—Ç—Ä–∞–ª–µ–Ω
                                    {% elif mood.mood == 'sad' %}üòî –ì—Ä—É—Å—Ç–µ–Ω
                                    {% elif mood.mood == 'angry' %}üò† –°–µ—Ä–¥–∏—Ç
                                    {% elif mood.mood == 'anxious' %}üò∞ –¢—Ä–µ–≤–æ–∂–µ–Ω
                                    {% elif mood.mood == 'excited' %}üéâ –í –≤–æ—Å—Ç–æ—Ä–≥–µ
                                    {% elif mood.mood == 'tired' %}üò¥ –£—Å—Ç–∞–ª
                                    {% else %}{{ mood.mood }}{% endif %}
                                </h6>
                                <small class="text-muted">{{ mood.timestamp.strftime('%d.%m.%Y %H:%M') }}</small>
                            </div>
                            {% if mood.notes %}
                            <p class="mb-1">{{ mood.notes }}</p>
                            {% endif %}
                        </div>
                        {% endfor %}
                    </div>
                {% else %}
                    <p class="text-muted">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∑–∞–ø–∏—Å–µ–π –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è.</p>
                    <a href="{{ url_for('main.mood_form') }}" class="btn btn-custom">–°–æ–∑–¥–∞—Ç—å –ø–µ—Ä–≤—É—é –∑–∞–ø–∏—Å—å</a>
                {% endif %}
            </div>
        </div>
    </div>
    
    <div class="col-md-4">
        <div class="card card-custom">
            <div class="card-body text-center">
                <h5>üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h5>
                <p class="text-muted">–°–∫–æ—Ä–æ –∑–¥–µ—Å—å –ø–æ—è–≤–∏—Ç—Å—è –≤–∞—à–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏—è!</p>
            </div>
        </div>
        
        <div class="card card-custom mt-4">
            <div class="card-body text-center">
                <h5>üë§ –ü—Ä–æ—Ñ–∏–ª—å</h5>
                <p><strong>{{ current_user.username }}</strong></p>
                <p class="text-muted">{{ current_user.email }}</p>
                <a href="{{ url_for('main.profile') }}" class="btn btn-outline-secondary btn-sm">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ—Ñ–∏–ª—å</a>
                <a href="{{ url_for('main.logout') }}" class="btn btn-outline-danger btn-sm mt-2">–í—ã–π—Ç–∏</a>
            </div>
        </div>
    </div>
</div>
{% endblock %}